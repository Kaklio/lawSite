<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>


  <style>

.center{
display: grid;
align-items: center;
justify-content: center;
}
.btn{

width: 200px;
height: 150px;
font-size: xx-large;

}

.mail{

background-color: rgb(136, 136, 136);
color: rgb(255, 76, 76);


}

.para{
   display: none;
  margin: 0vw 50vw;  
  font-size: xx-large;
  font-weight: 900;
}    
  </style>

  <body>


    <div class="btn-group center" role="group" aria-label="Basic mixed styles example">
      <button type="button" class="btn btn-danger">Clear</button>
      <button type="button" class="btn btn-warning" style="background-color: greenyellow;">Send Mail</button>
      <!-- <button type="button" class="btn btn-success">Right</button> -->
    </div>
  
    <div class="mb-3 mail">
      <label for="exampleFormControlInput1" class="form-label">Email address</label>
      <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
    </div>
      <p class="para para1"> CLEARED </p>
      <p class="para para2"> EMAIL SENT </p>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
 
     
    <script>

    function display(p) {
      p.style.display =  "block"; // Show the element

setTimeout(() => {
  p.style.display = "none"; // Hide after 1 second
}, 1000); // 1000ms = 1 second
    } 

let redBtn = document.querySelector("button");
let greenBtn = document.querySelectorAll("button")[1];

redBtn.addEventListener('click',  () => {
    let b = document.getElementById("exampleFormControlInput1"); // Select the input
    let p =document.querySelector(".para1");

     b.value = ""; // Clear the input field
     display(p)

});

greenBtn.addEventListener('click', async () => {
    let emailInput = document.getElementById("exampleFormControlInput1").value;
    let p = document.querySelector(".para2");

    let res = await fetch("http://localhost:3000/send-mail", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email: emailInput }),
});

let text = await res.text(); //  Convert response to text
alert(text); //  Show response message
    display(p);
});


    </script>
 
 
  </body>
</html>